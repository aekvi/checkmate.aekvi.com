var c=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},D=class{static fromArray(t,r){let n=r||new te;for(let i=t.length-1;i>=0;--i)n=new G(t[i],n);return n}[Symbol.iterator](){return new Pe(this)}toArray(){return[...this]}atLeastLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return r!==void 0}hasLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return t===-1&&r instanceof te}countLength(){let t=this,r=0;for(;t;)t=t.tail,r++;return r-1}};function w(e,t){return new G(e,t)}function f(e,t){return D.fromArray(e,t)}var Pe=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof te)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},te=class extends D{},G=class extends D{constructor(t,r){super(),this.head=t,this.tail=r}},re=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,r,n){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=r??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=n??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return ee(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let r=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<r;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let n=this.bitSize%8;if(n){let i=8-n;if(this.rawBuffer[r]>>i!==t.rawBuffer[r]>>i)return!1}}else{for(let i=0;i<r;i++){let s=ee(this.rawBuffer,this.bitOffset,i),o=ee(t.rawBuffer,t.bitOffset,i);if(s!==o)return!1}let n=this.bitSize%8;if(n){let i=ee(this.rawBuffer,this.bitOffset,r),s=ee(t.rawBuffer,t.bitOffset,r),o=8-n;if(i>>o!==s>>o)return!1}}return!0}get buffer(){if(jt("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(jt("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function ee(e,t,r){if(t===0)return e[r]??0;{let n=e[r]<<t&255,i=e[r+1]>>8-t;return n|i}}var At={};function jt(e,t){At[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),At[e]=!0)}var ne=class e extends c{static isResult(t){return t instanceof e}},d=class extends ne{constructor(t){super(),this[0]=t}isOk(){return!0}},p=class extends ne{constructor(t){super(),this[0]=t}isOk(){return!1}};function _(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!Bt(n)||!Bt(i)||!Ir(n,i)||Br(n,i)||Er(n,i)||zr(n,i)||Cr(n,i)||Tr(n,i)||Nr(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[u,l]=jr(n);for(let a of u(n))r.push(l(n,a),l(i,a))}return!0}function jr(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Br(e,t){return e instanceof Date&&(e>t||e<t)}function Er(e,t){return!(e instanceof re)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function zr(e,t){return Array.isArray(e)&&e.length!==t.length}function Cr(e,t){return e instanceof Map&&e.size!==t.size}function Tr(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function Nr(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Bt(e){return typeof e=="object"&&e!==null}function Ir(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function ge(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.function=n,o.fn=n;for(let u in s)o[u]=s[u];return o}var v=class extends c{};var Et=new WeakMap,Re=new DataView(new ArrayBuffer(8)),We=0;function Ge(e){let t=Et.get(e);if(t!==void 0)return t;let r=We++;return We===2147483647&&(We=0),Et.set(e,r),r}function He(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Ve(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Ct(e){Re.setFloat64(0,e);let t=Re.getInt32(0),r=Re.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function qr(e){return Ve(e.toString())}function Mr(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Ge(e);if(e instanceof Date)return Ct(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+A(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+A(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+He(A(n),A(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+He(A(o),Ve(s))|0}}return r}function A(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Ct(e);case"string":return Ve(e);case"bigint":return qr(e);case"object":return Mr(e);case"symbol":return Ge(e);case"function":return Ge(e);default:return 0}}var T=5,Ye=Math.pow(2,T),Ur=Ye-1,Dr=Ye/2,Pr=Ye/4,k=0,C=1,L=2,P=3,Ke={type:L,bitmap:0,array:[]};function se(e,t){return e>>>t&Ur}function be(e,t){return 1<<se(e,t)}function Fr(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Xe(e,t){return Fr(e&t-1)}function j(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function Rr(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function Je(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Tt(e,t,r,n,i,s){let o=A(t);if(o===n)return{type:P,hash:o,array:[{type:k,k:t,v:r},{type:k,k:i,v:s}]};let u={val:!1};return oe(Ze(Ke,e,o,t,r,u),e,n,i,s,u)}function oe(e,t,r,n,i,s){switch(e.type){case C:return Wr(e,t,r,n,i,s);case L:return Ze(e,t,r,n,i,s);case P:return Gr(e,t,r,n,i,s)}}function Wr(e,t,r,n,i,s){let o=se(r,t),u=e.array[o];if(u===void 0)return s.val=!0,{type:C,size:e.size+1,array:j(e.array,o,{type:k,k:n,v:i})};if(u.type===k)return _(n,u.k)?i===u.v?e:{type:C,size:e.size,array:j(e.array,o,{type:k,k:n,v:i})}:(s.val=!0,{type:C,size:e.size,array:j(e.array,o,Tt(t+T,u.k,u.v,r,n,i))});let l=oe(u,t+T,r,n,i,s);return l===u?e:{type:C,size:e.size,array:j(e.array,o,l)}}function Ze(e,t,r,n,i,s){let o=be(r,t),u=Xe(e.bitmap,o);if(e.bitmap&o){let l=e.array[u];if(l.type!==k){let $=oe(l,t+T,r,n,i,s);return $===l?e:{type:L,bitmap:e.bitmap,array:j(e.array,u,$)}}let a=l.k;return _(n,a)?i===l.v?e:{type:L,bitmap:e.bitmap,array:j(e.array,u,{type:k,k:n,v:i})}:(s.val=!0,{type:L,bitmap:e.bitmap,array:j(e.array,u,Tt(t+T,a,l.v,r,n,i))})}else{let l=e.array.length;if(l>=Dr){let a=new Array(32),$=se(r,t);a[$]=Ze(Ke,t+T,r,n,i,s);let y=0,b=e.bitmap;for(let U=0;U<32;U++){if(b&1){let B=e.array[y++];a[U]=B}b=b>>>1}return{type:C,size:l+1,array:a}}else{let a=Rr(e.array,u,{type:k,k:n,v:i});return s.val=!0,{type:L,bitmap:e.bitmap|o,array:a}}}}function Gr(e,t,r,n,i,s){if(r===e.hash){let o=Qe(e,n);if(o!==-1)return e.array[o].v===i?e:{type:P,hash:r,array:j(e.array,o,{type:k,k:n,v:i})};let u=e.array.length;return s.val=!0,{type:P,hash:r,array:j(e.array,u,{type:k,k:n,v:i})}}return oe({type:L,bitmap:be(e.hash,t),array:[e]},t,r,n,i,s)}function Qe(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(_(t,e.array[n].k))return n;return-1}function ye(e,t,r,n){switch(e.type){case C:return Hr(e,t,r,n);case L:return Jr(e,t,r,n);case P:return Vr(e,n)}}function Hr(e,t,r,n){let i=se(r,t),s=e.array[i];if(s!==void 0){if(s.type!==k)return ye(s,t+T,r,n);if(_(n,s.k))return s}}function Jr(e,t,r,n){let i=be(r,t);if(!(e.bitmap&i))return;let s=Xe(e.bitmap,i),o=e.array[s];if(o.type!==k)return ye(o,t+T,r,n);if(_(n,o.k))return o}function Vr(e,t){let r=Qe(e,t);if(!(r<0))return e.array[r]}function et(e,t,r,n){switch(e.type){case C:return Yr(e,t,r,n);case L:return Kr(e,t,r,n);case P:return Xr(e,n)}}function Yr(e,t,r,n){let i=se(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===k){if(!_(s.k,n))return e}else if(o=et(s,t+T,r,n),o===s)return e;if(o===void 0){if(e.size<=Pr){let u=e.array,l=new Array(e.size-1),a=0,$=0,y=0;for(;a<i;){let b=u[a];b!==void 0&&(l[$]=b,y|=1<<a,++$),++a}for(++a;a<u.length;){let b=u[a];b!==void 0&&(l[$]=b,y|=1<<a,++$),++a}return{type:L,bitmap:y,array:l}}return{type:C,size:e.size-1,array:j(e.array,i,o)}}return{type:C,size:e.size,array:j(e.array,i,o)}}function Kr(e,t,r,n){let i=be(r,t);if(!(e.bitmap&i))return e;let s=Xe(e.bitmap,i),o=e.array[s];if(o.type!==k){let u=et(o,t+T,r,n);return u===o?e:u!==void 0?{type:L,bitmap:e.bitmap,array:j(e.array,s,u)}:e.bitmap===i?void 0:{type:L,bitmap:e.bitmap^i,array:Je(e.array,s)}}return _(n,o.k)?e.bitmap===i?void 0:{type:L,bitmap:e.bitmap^i,array:Je(e.array,s)}:e}function Xr(e,t){let r=Qe(e,t);if(r<0)return e;if(e.array.length!==1)return{type:P,hash:e.hash,array:Je(e.array,r)}}function Nt(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===k){t(s.v,s.k);continue}Nt(s,t)}}}var H=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=ye(this.root,0,A(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?Ke:this.root,s=oe(i,0,A(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=et(this.root,0,A(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:ye(this.root,0,A(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){Nt(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+He(A(r),A(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((r,n)=>{if(!_(t.get(n,!r),r))throw zt}),!0}catch(r){if(r===zt)return!1;throw r}}},zt=Symbol();var Qr=void 0;function F(e){return e.toString()}var It;function en(e){if(globalThis.Intl&&Intl.Segmenter)return It||=new Intl.Segmenter,It.segment(e)[Symbol.iterator]()}function qt(e){let t,r=en(e);return r?t=r.next().value?.segment:t=e.match(/./su)?.[0],t?new d([t,e.slice(t.length)]):new p(Qr)}var Mt=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),$i=new RegExp(`^[${Mt}]*`),xi=new RegExp(`[${Mt}]*$`);function N(){return H.new()}function ke(e){return D.fromArray(e.entries())}function Ut(e,t,r){return r.set(e,t)}function V(e,t,r){return Ut(t,r,e)}function fn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=w(i,n)}}}function cn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return fn(n,f([]));{let i=r.head[0];e=r.tail,t=w(i,n)}}}function nt(e){return cn(ke(e),f([]))}function Y(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function mn(e,t,r,n){for(;;){let i=e,s=t,o=r,u=n;if(i.hasLength(0))return s;{let l=i.head;e=i.tail,t=o(s,l,u),r=o,n=u+1}}}function it(e,t,r){return mn(e,t,r,0)}function ot(e,t){for(;;){let r=e,n=t;if(n>0){let s=qt(r);if(s.isOk())e=s[0][1],t=n-1;else return r}else return r}}function ct(e,t,r){return e?t:r()}var pt=class extends c{constructor(t){super(),this.all=t}};function dt(){return new pt(f([]))}var Z=class extends c{constructor(t){super(),this.content=t}},x=class extends c{constructor(t,r,n,i,s,o,u){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=u}},pe=class extends c{constructor(t){super(),this.subtree=t}},Q=class extends c{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},de=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};function Mn(e){if(e instanceof Q)return new p(void 0);{let t=e[0],r=e[1],n=ot(t,2);return new d([n,r])}}function Un(e,t,r){return it(e,t,(n,i,s)=>{let o=r+"-"+F(s);return Vt(i,n,o)})}function Vt(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof Z)return i;if(n instanceof pe){let o=n.subtree;e=o(),t=i,r=s}else{let o=n.attrs,u=n.children,l=Y(o,i,(a,$)=>{let y=Mn($);if(y.isOk()){let b=y[0][0],U=y[0][1];return V(a,s+"-"+b,U)}else return a});return Un(u,l,s)}}}function Yt(e){return Vt(e,N(),"0")}function ht(e,t){return new Q(e,t,!1)}function Xt(e,t){return new de("on"+e,t)}function q(e){return ht("class",e)}function Zt(e){return ht("href",e)}function Qt(e){return ht("src",e)}function W(e,t,r){return e==="area"?new x("","",e,t,f([]),!1,!0):e==="base"?new x("","",e,t,f([]),!1,!0):e==="br"?new x("","",e,t,f([]),!1,!0):e==="col"?new x("","",e,t,f([]),!1,!0):e==="embed"?new x("","",e,t,f([]),!1,!0):e==="hr"?new x("","",e,t,f([]),!1,!0):e==="img"?new x("","",e,t,f([]),!1,!0):e==="input"?new x("","",e,t,f([]),!1,!0):e==="link"?new x("","",e,t,f([]),!1,!0):e==="meta"?new x("","",e,t,f([]),!1,!0):e==="param"?new x("","",e,t,f([]),!1,!0):e==="source"?new x("","",e,t,f([]),!1,!0):e==="track"?new x("","",e,t,f([]),!1,!0):e==="wbr"?new x("","",e,t,f([]),!1,!0):new x("","",e,t,r,!1,!1)}function er(e){return new Z(e)}var _t=class extends c{constructor(t){super(),this.dict=t}};function tr(){return new _t(N())}var Se=class extends c{constructor(t){super(),this[0]=t}},Ae=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},je=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};function rr(e){return _(e.created,N())&&_(e.removed,tr())&&_(e.updated,N())}var Be=class extends c{constructor(t){super(),this[0]=t}},Ee=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},me=class extends c{constructor(t){super(),this[0]=t}},I=class extends c{constructor(t){super(),this[0]=t}},he=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},ze=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};var _e=class extends c{},Ce=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},Te=class extends c{constructor(t){super(),this[0]=t}},Ne=class extends c{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function $t(e,t,r){let n,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:u}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),n??=s;else{let l=document.createTextNode(o.content);u.replaceChild(l,s),n??=l}else{let l=document.createTextNode(o.content);u.appendChild(l),n??=l}else if(o.tag!==void 0){let l=Gn({prev:s,next:o,dispatch:r,stack:i});s?s!==l&&u.replaceChild(l,s):u.appendChild(l),n??=l}}return n}function Gn({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),u;if($e.has(o))u=$e.get(o);else{let m=new Map;$e.set(o,m),u=m}let l=s?new Set(u.keys()):null,a=s?new Set(Array.from(e.attributes,m=>m.name)):null,$=null,y=null,b=null;if(s&&t.tag==="textarea"){let m=t.children[Symbol.iterator]().next().value?.content;m!==void 0&&(o.value=m)}let U=[];for(let m of t.attrs){let h=m[0],g=m[1];if(m.as_property)o[h]!==g&&(o[h]=g),s&&a.delete(h);else if(h.startsWith("on")){let z=h.slice(2),De=r(g,z==="input");u.has(z)||o.addEventListener(z,xe),u.set(z,De),s&&l.delete(z)}else if(h.startsWith("data-lustre-on-")){let z=h.slice(15),De=r(Hn);u.has(z)||o.addEventListener(z,xe),u.set(z,De),o.setAttribute(h,g),s&&(l.delete(z),a.delete(h))}else h.startsWith("delegate:data-")||h.startsWith("delegate:aria-")?(o.setAttribute(h,g),U.push([h.slice(10),g])):h==="class"?$=$===null?g:$+" "+g:h==="style"?y=y===null?g:y+g:h==="dangerous-unescaped-html"?b=g:(o.getAttribute(h)!==g&&o.setAttribute(h,g),(h==="value"||h==="selected")&&(o[h]=g),s&&a.delete(h))}if($!==null&&(o.setAttribute("class",$),s&&a.delete("class")),y!==null&&(o.setAttribute("style",y),s&&a.delete("style")),s){for(let m of a)o.removeAttribute(m);for(let m of l)u.delete(m),o.removeEventListener(m,xe)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let m of o.assignedElements())for(let[h,g]of U)m.hasAttribute(h)||m.setAttribute(h,g)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(b!==null)return o.innerHTML=b,o;let B=o.firstChild,vt=null,Lt=null,St=null,Ue=Ie(t).next().value;if(s&&Ue!==void 0&&Ue.key!==void 0&&Ue.key!==""){vt=new Set,Lt=nr(e),St=nr(t);for(let m of Ie(t))B=Jn(B,m,o,n,St,Lt,vt)}else for(let m of Ie(t))n.unshift({prev:B,next:m,parent:o}),B=B?.nextSibling;for(;B;){let m=B.nextSibling;o.removeChild(B),B=m}return o}var $e=new WeakMap;function xe(e){let t=e.currentTarget;if(!$e.has(t)){t.removeEventListener(e.type,xe);return}let r=$e.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,xe);return}r.get(e.type)(e)}function Hn(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let u=o.split(".");for(let l=0,a=s,$=e;l<u.length;l++)l===u.length-1?a[u[l]]=$[u[l]]:(a[u[l]]??={},$=$[u[l]],a=a[u[l]]);return s},{data:n})}}function nr(e){let t=new Map;if(e)for(let r of Ie(e)){let n=r?.key||r?.getAttribute?.("data-lustre-key");n&&t.set(n,r)}return t}function Jn(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let l=e.nextSibling;r.removeChild(e),e=l}if(s.size===0)return n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let u=s.get(t.key);if(!u&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!u&&e!==null){let l=document.createTextNode("");return r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e}return!u||u===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(u,e),n.unshift({prev:u,next:t,parent:r}),e)}function*Ie(e){for(let t of e.children)yield*ir(t)}function*ir(e){e.subtree!==void 0?yield*ir(e.subtree()):yield e}var xt=class e{static start({init:t,update:r,view:n},i,s){if(!gt())return new p(new we);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new p(new qe(i));let u=new e(o,t(s),r,n);return new d(l=>u.send(l))}constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#r=s,this.#t=window.setTimeout(()=>this.#n(n.all.toArray(),!0),0)}root;send(t){if(t instanceof me){if(t[0]instanceof Ne){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let r=this.#r(this.#e),n=(s,o=!1)=>u=>{let l=s(u);l instanceof d&&this.send(new I(l[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));$t(i,r,n)}}else if(t instanceof I){let r=t[0],n=t[1]??!1;this.#i.push(r),n?(this.#t=window.clearTimeout(this.#t),this.#n()):this.#t||(this.#t=window.setTimeout(()=>this.#n()))}else if(t instanceof he){let r=t[0],n=t[1];this.root.dispatchEvent(new CustomEvent(r,{detail:n,bubbles:!0,composed:!0}))}else if(t instanceof _e)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#r=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#r;#i=[];#t;#n(t=[]){this.#t=void 0,this.#o(t);let r=this.#r(this.#e),n=(s,o=!1)=>u=>{let l=s(u);l instanceof d&&this.send(new I(l[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));$t(i,r,n)}#o(t=[]){for(;this.#i.length>0;){let r=this.#i.shift(),[n,i]=this.#s(this.#e,r);t=t.concat(i.all.toArray()),this.#e=n}for(;t.length>0;){let r=t.shift(),n=u=>this.send(new I(u)),i=(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),s=()=>{},o=this.root;r({dispatch:n,emit:i,select:s,root:o})}this.#i.length>0&&this.#o(t)}},sr=xt.start;var wt=class e{static start({init:t,update:r,view:n,on_attribute_change:i},s){let o=new e(t(s),r,n,i);return new d(u=>o.send(u))}constructor([t,r],n,i,s){this.#e=t,this.#s=n,this.#i=i,this.#t=i(t),this.#l=s,this.#n=new Map,this.#o=Yt(this.#t),this.#u(r.all.toArray())}send(t){if(t instanceof Be){for(let r of t[0]){let n=this.#l.get(r[0]);if(!n)continue;let i=n(r[1]);i instanceof p||this.#r.push(i)}this.#u()}else if(t instanceof Ee)this.#r=this.#r.concat(t[0].toArray()),this.#u(t[1].all.toArray());else if(!(t instanceof me))if(t instanceof I)this.#r.push(t[0]),this.#u();else if(t instanceof he){let r=new Ae(t[0],t[1]);for(let[n,i]of this.#n)i(r)}else if(t instanceof ze){let r=this.#o.get(t[0]);if(!r)return;let n=r(t[1]);if(n instanceof p)return;this.#r.push(n[0]),this.#u()}else if(t instanceof Ce){let r=nt(this.#l),n=new je(r,this.#t);this.#n=this.#n.set(t[0],t[1]),t[1](n)}else t instanceof Te&&(this.#n=this.#n.delete(t[0]))}#e;#s;#r;#i;#t;#n;#o;#l;#u(t=[]){this.#f(t);let r=this.#i(this.#e),n=elements(this.#t,r);if(!rr(n)){let i=new Se(n);for(let[s,o]of this.#n)o(i)}this.#t=r,this.#o=n.handlers}#f(t=[]){for(;this.#r.length>0;){let r=this.#r.shift(),[n,i]=this.#s(this.#e,r);t=t.concat(i.all.toArray()),this.#e=n}for(;t.length>0;)t.shift()({dispatch:u=>this.send(new I(u)),emit:(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#r.length>0&&this.#f(t)}},Vn=wt.start,gt=()=>globalThis.window&&window.document;var yt=class extends c{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var qe=class extends c{constructor(t){super(),this.selector=t}},we=class extends c{};function Yn(e,t,r){return new yt(e,t,r,new v)}function or(e,t,r){return Yn(s=>[e(s),dt()],(s,o)=>[t(s,o),dt()],r)}function ur(e,t,r){return ct(!gt(),new p(new we),()=>sr(e,t,r))}function bt(e){return er(e)}function lr(e,t){return W("nav",e,t)}function M(e,t){return W("div",e,t)}function fr(e,t){return W("a",e,t)}function cr(e){return W("img",e,f([]))}function ar(e,t){return W("button",e,t)}function dr(){return q("navbar")}function mr(){return q("navbar-brand")}function Me(){return q("navbar-item")}function hr(){return q("navbar-menu")}function _r(){return q("navbar-start")}function $r(){return q("navbar-end")}function xr(){return q("button")}function Xn(e,t){return Xt(e,t)}function gr(e){return Xn("click",t=>new d(e))}function yr(e,t){return ar(f([xr(),gr(e)]),t)}function br(e,t){return lr(w(dr(),e),t)}function kr(e){return M(f([mr()]),e)}function kt(e,t){return fr(f([Me(),Zt(e)]),t)}function Or(e){return M(f([hr()]),e)}function vr(e){return M(f([_r()]),e)}function Lr(e){return M(f([$r()]),e)}function Sr(e,t){return cr(w(Qt(e),t))}var Ot=class extends c{};function ei(e){return 0}function ti(e,t){return e}function ri(e){return M(f([]),f([br(f([]),f([kr(f([kt("",f([Sr("static/logo.png",f([]))]))])),Or(f([vr(f([kt("",f([bt("API")]))])),Lr(f([M(f([Me()]),f([yr(new Ot,f([bt("Log In")]))]))]))]))]))]))}function Ar(){let e=or(ei,ti,ri),t=ur(e,"#app",void 0);if(!t.isOk())throw ge("let_assert","website",9,"main","Pattern match failed, no pattern matched the value.",{value:t})}Ar();
